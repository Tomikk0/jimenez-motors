<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base target="_top">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/pages.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body class="site-body">
  <main id="siteMain" class="site-main">
    <header class="site-hero">
      <div class="hero-topbar">
        <div class="brand">
          <img src="https://i.imgur.com/wEi6GRD.png" alt="Jimenez Motors" class="brand-logo">
          <div class="brand-text">
            <span class="brand-title">Jimenez Motors</span>
            <span class="brand-tagline">AutÃ³kereskedÃ©s &amp; Transport</span>
          </div>
        </div>
        <nav class="hero-nav">
          <a href="#about" class="hero-link">About</a>
          <a href="#inventory" class="hero-link">Inventory</a>
          <a href="#contact" class="hero-link">Contact</a>
          <button class="hero-cta" onclick="showPage('autok')">Explore Inventory</button>
        </nav>
      </div>
      <div class="hero-content">
        <div class="hero-copy">
          <p class="hero-eyebrow">HÃ­rek</p>
          <h1>Fedezd fel a Jimenez Motors Ãºj generÃ¡ciÃ³jÃ¡t</h1>
          <p>
            A legÃºjabb modellek, fejlett technolÃ³gia Ã©s kompromisszummentes luxus egyetlen platformon.
            SzemÃ©lyre szabott ajÃ¡nlatokkal Ã©s valÃ³s idejÅ± kÃ©szletinformÃ¡ciÃ³kkal vÃ¡runk.
          </p>
          <div class="hero-actions">
            <button class="hero-primary" onclick="showPage('autok')">JÃ¡rmÅ±vek megtekintÃ©se</button>
            <button class="hero-secondary" onclick="showPage('login')">Csatlakozz a csapathoz</button>
          </div>
        </div>
        <div class="hero-preview" id="inventory">
          <div class="preview-card">
            <img src="https://images.unsplash.com/photo-1549921296-3c6b87c67a6d?auto=format&fit=crop&w=900&q=80" alt="Model S" loading="lazy">
            <div class="preview-meta">
              <span class="preview-title">AutÃ³ modell</span>
              <span class="preview-status">TurbÃ³ EladÃ³</span>
            </div>
          </div>
          <div class="preview-card">
            <img src="https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?auto=format&fit=crop&w=900&q=80" alt="Model 3" loading="lazy">
            <div class="preview-meta">
              <span class="preview-title">AutÃ³ modell</span>
              <span class="preview-status">TurbÃ³ EladÃ³</span>
            </div>
          </div>
          <div class="preview-card">
            <img src="https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?auto=format&fit=crop&w=900&q=80" alt="Model X" loading="lazy">
            <div class="preview-meta">
              <span class="preview-title">AutÃ³ modell</span>
              <span class="preview-status">TurbÃ³ EladÃ³</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <section class="welcome-section" id="about">
      <div class="welcome-card">
        <h2>Welcome to Jimenez Motors</h2>
        <p>
          We provide premium, cutting-edge technologies that harmonise teljesÃ­tmÃ©ny and kÃ©nyelem.
          Fedezd fel vÃ¡ltozatos modelljeinket, Ã©s vÃ¡laszd ki azt, amelyik meghaladja minden vÃ¡rakozÃ¡sod.
        </p>
      </div>
    </section>

<!-- AUTÃ“K OLDAL -->
<div id="autokPage" class="page active">
  <nav class="main-nav">
    <button class="nav-btn active" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>

  <div id="message" class="message"></div>
  
  <div id="adminFunctions" style="display: none;">
    <div class="modern-form-card">
      <div class="modern-form-header">
        <h3>ğŸš— Ãšj autÃ³ hozzÃ¡adÃ¡sa</h3>
      </div>

      <div class="modern-form-row">
        <div class="modern-form-group">
          <label for="modelSearch">ğŸ” Modell</label>
          <div class="model-search-container modern">
            <input type="text" id="modelSearch" class="modern-input" placeholder="KeresÃ©s modellek kÃ¶zÃ¶tt..." 
                   onfocus="showModelDropdown()" oninput="filterModels()">
            <div id="modelDropdown" class="model-dropdown modern"></div>
          </div>
        </div>

        <div class="modern-form-group">
          <label for="vetel">ğŸ’° VÃ©teliÃ¡r</label>
          <div class="modern-input-container price">
            <input type="text" id="vetel" class="modern-input" placeholder="0" 
                   oninput="formatInputPrice(this)">
          </div>
        </div>

        <div class="modern-form-group">
          <label for="kivant">ğŸ¯ KÃ­vÃ¡nt minimmum Ã¡r</label>
          <div class="modern-input-container price">
            <input type="text" id="kivant" class="modern-input" placeholder="0" 
                   oninput="formatInputPrice(this)">
          </div>
        </div>

        <div class="modern-form-group">
          <label for="eladas">ğŸ’µ EladÃ¡si Ã¡r</label>
          <div class="modern-input-container price">
            <input type="text" id="eladas" class="modern-input" placeholder="0" 
                   oninput="formatInputPrice(this)">
          </div>
        </div>
      </div>

      <div class="modern-image-section">
        <h4>ğŸ“· AutÃ³ kÃ©pe</h4>
        <div class="modern-image-upload-container">
          <input type="file" id="carImage" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">
          <button type="button" onclick="document.getElementById('carImage').click()" class="modern-image-upload-btn">
            ğŸ“ KÃ©p kivÃ¡lasztÃ¡sa
          </button>
          <span id="imageFileName" class="modern-image-file-name">Nincs kÃ©p kivÃ¡lasztva</span>
        </div>
        <div id="imagePreview" class="modern-image-preview"></div>
      </div>

      <div class="modern-form-group">
        <label>ğŸ”§ Tuning opciÃ³k</label>
        <div id="tuningContainer" class="modern-tuning-container">BetÃ¶ltÃ©s...</div>
      </div>

      <div class="modern-form-actions">
        <button onclick="addCar()" class="modern-btn-primary">â• AutÃ³ hozzÃ¡adÃ¡sa</button>
        <button onclick="loadCars()" class="modern-btn-secondary">ğŸ”„ FrissÃ­tÃ©s</button>
      </div>
    </div>
  </div>
    <div class="modern-form-card">
      <div class="modern-form-header">
              <h3>ğŸš— EladÃ³ autÃ³k</h3>
</div>
    <table class="modern-table">
      <thead>
        <tr>
          <th>ğŸ“· KÃ©p</th>
          <th>ğŸš— Modell</th>
          <th>ğŸ”§ Tuning</th>
          <th id="vetelHeader" style="display: none;">ğŸ’° VÃ©telÃ¡r</th>
          <th id="kivantHeader" style="display: none;">ğŸ¯ KÃ­vÃ¡nt minimmum Ã¡r</th>
          <th>ğŸ’µ EladÃ¡si Ã¡r</th>
          <th id="keszpenzHeader">ğŸ’³ KÃ©szpÃ©nzes Ã¡r</th>
          <th>ğŸ‘¤ EladÃ³</th>
          <th>ğŸ“Š StÃ¡tusz</th>
          <th id="actionHeader" style="display: none;">âš¡ MÅ±velet</th>
        </tr>
      </thead>
      <tbody id="carTableBody">
        <tr>
          <td colspan="10" class="table-loading">AutÃ³k betÃ¶ltÃ©se</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
      </div>
<div id="eladottAutokPage" class="page">
  <nav class="main-nav">
    <button class="nav-btn" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn active" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>

    <div class="modern-form-card">
      <div class="modern-form-header">
        <h3>âœ… Eladott AutÃ³k</h3>
      </div>
      

  <div id="soldCarsMessage" class="message"></div>

  <div class="modern-table-container">
    <table class="modern-table">
      <thead>
        <tr>
          <th>ğŸ“· KÃ©p</th>
          <th>ğŸš— Modell</th>
          <th>ğŸ”§ Tuning</th>
          <th>ğŸ’° VÃ©telÃ¡r</th>
          <th>ğŸ’µ EladÃ¡si Ã¡r</th>
          <th>ğŸ“ˆ Profit</th>
          <th>ğŸ‘¤ Eladta</th>
          <th>ğŸ“… EladÃ¡s dÃ¡tuma</th>
        </tr>
      </thead>
      <tbody id="soldCarsTableBody">
        <tr>
          <td colspan="8" class="table-loading">Eladott autÃ³k betÃ¶ltÃ©se...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
<!-- TAGOK OLDAL -->
<div id="tagokPage" class="page">
  <nav class="main-nav">
    <button class="nav-btn" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn active" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>
    <div class="modern-form-card">
      <div class="modern-form-header">
              <h3>ğŸ‘¥ Tagok</h3>
      <p>Jimenez Motors csapattagjai</p>
  
  <div class="form-header-with-filters">
    <div class="form-title">
    </div>
    <div class="compact-filters-row">
      <button id="historyButton" class="modern-btn-secondary" onclick="showKickedMembersHistory()">
        ğŸ“‹ Tag tÃ¶rtÃ©net
      </button>
      <button id="badgeButton" class="modern-btn-secondary" onclick="openBadgeModal()">
        â­ KitÅ±zÅ‘k
      </button>
      <button id="tagAdminButton" class="modern-btn-secondary" onclick="openTagAdminModal()">
        ğŸ‘‘ Tag Admin
      </button>
    </div>
  </div>

  <div id="tagMessage" class="message"></div>

<!-- TAG ADMIN MODAL -->
<div id="tagAdminModal" class="edit-modal" style="display: none;">
    <div class="edit-modal-content modal-content-wide">
        <div class="edit-modal-header">
            <h3>ğŸ‘‘ Tag AdminisztrÃ¡ciÃ³</h3>
            <span class="edit-close" onclick="closeTagAdminModal()">&times;</span>
        </div>
        
        <div class="edit-modal-body modal-body-scroll">
            <div id="tagAdminMessage" class="message"></div>

            <!-- ÃšJ TAG HOZZÃADÃSA -->
            <div class="badge-add-form">
                <h4>â• Ãšj Tag HozzÃ¡adÃ¡sa</h4>
                <div class="modern-form-row">
                    <div class="modern-form-group">
                        <label for="newTagName">ğŸ‘¤ IG NÃ©v (MegjelenÃ­tett nÃ©v)</label>
                        <input type="text" id="newTagName" class="modern-input" placeholder="Ãrd be a tag IG nevÃ©t...">
                        <div class="input-hint">Ez a nÃ©v jelenik meg a tagok listÃ¡jÃ¡ban</div>
                    </div>

                    <div class="modern-form-group">
                        <label for="newUsername">ğŸ” FelhasznÃ¡lÃ³nÃ©v (BelÃ©pÃ©shez)</label>
                        <input type="text" id="newUsername" class="modern-input" placeholder="Ãrd be a felhasznÃ¡lÃ³nevet...">
                        <div class="input-hint">Ezzel a nÃ©vvel tud bejelentkezni</div>
                    </div>

                    <div class="modern-form-group">
                        <label for="newTagPhone">ğŸ“ TelefonszÃ¡m (opcionÃ¡lis)</label>
                        <input type="text" id="newTagPhone" class="modern-input" placeholder="+36...">
                    </div>
                </div>

                <div class="modern-form-row">
                    <div class="modern-form-group">
                        <label for="newUserRole">ğŸ¯ HozzÃ¡fÃ©rÃ©si Szint</label>
                        <select id="newUserRole" class="modern-input">
                            <option value="user">ğŸ‘¤ User - Alap hozzÃ¡fÃ©rÃ©s</option>
                            <option value="admin">ğŸ‘‘ Admin - Teljes hozzÃ¡fÃ©rÃ©s</option>
                        </select>
                        <div class="input-hint">MeghatÃ¡rozza, milyen oldalak Ã©rhetÅ‘ek el</div>
                    </div>

                    <div class="modern-form-group">
                        <label for="newTagRank">â­ Rang MegjelenÃ­tÃ©s</label>
                        <select id="newTagRank" class="modern-input">
                            <option value="">VÃ¡lassz rangot...</option>
                            <option value="Owner">ğŸ‘‘ Owner</option>
                            <option value="Co-Owner">ğŸ’ Co-Owner</option>
                            <option value="Manager">ğŸ’¼ Manager</option>
                            <option value="Team Leader">â­ Team Leader</option>
                            <option value="Top Salesman">ğŸš€ Top Salesman</option>
                            <option value="Sr. Salesman">ğŸ”¶ Sr. Salesman</option>
                            <option value="Jr. Salesman">ğŸ”¹ Jr. Salesman</option>
                            <option value="Towing Specialist">ğŸ”§ Towing Specialist</option>
                            <option value="Tow Operator">âš¡ Tow Operator</option>
                            <option value="Truck Driver">ğŸš› Truck Driver</option>
                            <option value="Member">ğŸ‘¤ Member</option>
                        </select>
                        <div class="input-hint">Ez jelenik meg a nÃ©v mellett</div>
                    </div>
                </div>

                <div class="modern-form-row">
                    <div class="modern-form-group full-span">
                        <label for="customPassword">ğŸ” JelszÃ³</label>
                        <input type="password" id="customPassword" class="modern-input" placeholder="Ãrd be a jelszÃ³t...">
                        <div class="input-hint">A tag ezzel a jelszÃ³val tud bejelentkezni (minimum 4 karakter)</div>
                    </div>
                </div>
                
                <div class="modern-form-actions">
                    <button onclick="addTagWithAccount()" class="modern-btn-primary">
                        ğŸ’¾ Tag hozzÃ¡adÃ¡sa
                    </button>
                    <button onclick="clearTagAdminForm()" class="modern-btn-secondary">
                        ğŸ—‘ï¸ Å°rlap tÃ¶rlÃ©se
                    </button>
                    <button onclick="forceRefreshTagAdmin()" class="modern-btn-secondary">
                        ğŸ”„ FrissÃ­tÃ©s
                    </button>
                </div>
            </div>

            <!-- TAGOK LISTÃJA -->
            <div class="tag-admin-container">
                <div id="tagAdminContainer">
                    <div class="table-loading">Tagok betÃ¶ltÃ©se...</div>
                </div>
            </div>
        </div>

        <div class="edit-modal-footer">
            <button class="btn-cancel" onclick="closeTagAdminModal()">âŒ BezÃ¡rÃ¡s</button>
        </div>
    </div>
</div>
  <div id="kickModal" class="edit-modal" style="display: none;">
    <div class="edit-modal-content">
      <div class="edit-modal-header">
        <h3>ğŸš« Tag kirÃºgÃ¡sa</h3>
        <span class="edit-close" onclick="closeKickModal()">&times;</span>
      </div>
      
      <div class="edit-modal-body">
        <div class="member-info-card">
          <h4 id="kickMemberName"></h4>
          <p class="modal-subtext">Biztosan ki szeretnÃ©d rÃºgni ezt a tagot?</p>
        </div>

        <div class="sale-form">
          <div class="form-group">
            <label for="kickReason">ğŸ“ IndoklÃ¡s</label>
            <textarea id="kickReason" class="modern-input" placeholder="Add meg a kirÃºgÃ¡s indokÃ¡t..."></textarea>
          </div>
        </div>
      </div>

      <div class="edit-modal-footer">
        <button class="btn-cancel" onclick="closeKickModal()">âŒ MÃ©gse</button>
        <button class="btn-confirm-sale" onclick="confirmKick()">âœ… KirÃºgÃ¡s megerÅ‘sÃ­tÃ©se</button>
      </div>
    </div>
  </div>
<div id="changePasswordForUserModal" class="edit-modal" style="display: none;">
    <div class="edit-modal-content modal-content-narrow">
        <div class="edit-modal-header">
            <h3>ğŸ” JelszÃ³ vÃ¡ltÃ¡s</h3>
            <span class="edit-close" onclick="closeChangePasswordForUserModal()">&times;</span>
        </div>
        
        <div class="edit-modal-body">
            <div id="changePasswordForUserMessage" class="message"></div>
            
            <div class="member-info-card">
                <h4 id="changePasswordForUserName"></h4>
                <p class="modal-subtext">Ãºj jelszÃ³ beÃ¡llÃ­tÃ¡sa</p>
            </div>

            <div class="sale-form">
                <div class="form-group">
                    <label for="newPasswordForUser">ğŸ†• Ãšj jelszÃ³</label>
                    <input type="password" id="newPasswordForUser" class="modern-input" 
                           placeholder="Add meg az Ãºj jelszÃ³t" autocomplete="new-password">
                </div>

                <div class="form-group">
                    <label for="confirmPasswordForUser">âœ… Ãšj jelszÃ³ megerÅ‘sÃ­tÃ©se</label>
                    <input type="password" id="confirmPasswordForUser" class="modern-input" 
                           placeholder="Add meg Ãºjra az Ãºj jelszÃ³t" autocomplete="new-password">
                </div>
            </div>
        </div>

        <div class="edit-modal-footer">
            <button class="btn-cancel" onclick="closeChangePasswordForUserModal()">âŒ MÃ©gse</button>
            <button class="btn-confirm-sale" onclick="changePasswordForUser()">ğŸ’¾ JelszÃ³ mentÃ©se</button>
        </div>
    </div>
</div>

  <div id="kickedMembersModal" class="edit-modal" style="display: none;">
    <div class="edit-modal-content modal-content-wide">
      <div class="edit-modal-header">
        <h3>ğŸ“‹ Tag tÃ¶rtÃ©net naplÃ³</h3>
        <span class="edit-close" onclick="closeKickedMembersModal()">&times;</span>
      </div>
      
      <div class="edit-modal-body modal-body-scroll modal-body-padded">
        <div id="kickedMembersList" class="history-container">
          <div class="table-loading">NaplÃ³ betÃ¶ltÃ©se...</div>
        </div>
      </div>

      <div class="edit-modal-footer">
        <button class="btn-cancel" onclick="closeKickedMembersModal()">âŒ BezÃ¡rÃ¡s</button>
      </div>
    </div>
  </div>

  <div id="badgeModal" class="edit-modal" style="display: none;">
    <div class="edit-modal-content modal-content-wide">
      <div class="edit-modal-header">
        <h3>â­ KitÅ±zÅ‘k - Rang MegjegyzÃ©sek</h3>
        <span class="edit-close" onclick="closeBadgeModal()">&times;</span>
      </div>
      
      <div class="edit-modal-body modal-body-scroll">
        <div id="badgeMessage" class="message"></div>

        <div class="badge-add-form">
          <h4>â• Ãšj megjegyzÃ©s hozzÃ¡adÃ¡sa</h4>
          <div class="modern-form-row">
            <div class="modern-form-group">
              <label for="badgeRankSelect">ğŸ¯ Rang kivÃ¡lasztÃ¡sa</label>
              <select id="badgeRankSelect" class="modern-input">
                <option value="">VÃ¡lassz rangot...</option>
                <option value="Owner">ğŸ‘‘ Owner</option>
                <option value="Co-Owner">ğŸ’ Co-Owner</option>
                <option value="Manager">ğŸ’¼ Manager</option>
                <option value="Team Leader">â­ Team Leader</option>
                <option value="Top Salesman">ğŸš€ Top Salesman</option>
                <option value="Sr. Salesman">ğŸ”¶ Sr. Salesman</option>
                <option value="Jr. Salesman">ğŸ”¹ Jr. Salesman</option>
                <option value="Towing Specialist">ğŸ”§ Towing Specialist</option>
                <option value="Tow Operator">âš¡ Tow Operator</option>
                <option value="Truck Driver">ğŸš› Truck Driver</option>
                <option value="Member">ğŸ‘¤ Member</option>
              </select>
            </div>
            
            <div class="modern-form-group">
              <label for="badgeNote">ğŸ“ MegjegyzÃ©s</label>
              <textarea id="badgeNote" class="modern-input"
                       placeholder="Ãrj megjegyzÃ©st ehhez a ranghoz..."></textarea>
            </div>
          </div>
          
          <div class="modern-form-actions">
            <button onclick="addBadgeNote()" class="modern-btn-primary">
              ğŸ’¾ MegjegyzÃ©s mentÃ©se
            </button>
            <button onclick="refreshBadges()" class="modern-btn-secondary">
              ğŸ”„ FrissÃ­tÃ©s
            </button>
          </div>
        </div>

        <div class="badge-container" id="badgeContainer">
          <div class="table-loading">KitÅ±zÅ‘k betÃ¶ltÃ©se...</div>
        </div>
      </div>

      <div class="edit-modal-footer">
        <button class="btn-cancel" onclick="closeBadgeModal()">âŒ BezÃ¡rÃ¡s</button>
      </div>
    </div>
  </div>

    <table class="modern-table">
      <thead>
        <tr>
          <th>NÃ©v</th>
          <th>Rang</th>
          <th>ğŸ“… FelvÃ©tel dÃ¡tuma</th> <!-- Ãšj oszlop -->
        </tr>
      </thead>
      <tbody id="tagsTableBody">
        <tr>
          <td colspan="4" class="table-loading">Tagok betÃ¶ltÃ©se</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>

<!-- TUNINGOK OLDAL -->
<div id="tuningokPage" class="page">
  <nav class="main-nav">
    <button class="nav-btn" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn active" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>

  <div class="form-header-with-filters">
    <div class="form-title">
    </div>
  </div>

  <div id="tuningMessage" class="message"></div>

  <div id="tuningAdminFunctions" style="display: none;">
    <div class="modern-form-card">
      <div class="modern-form-header">
        <h3>â• Ãšj tuning csomag hozzÃ¡adÃ¡sa</h3>
      </div>

      <div class="modern-form-row">
        <div class="modern-form-group">
          <label for="tuningName">ğŸ”§ Tuning nÃ©v</label>
          <input type="text" id="tuningName" class="modern-input" placeholder="Pl.: Teljes motor tuning">
        </div>

        <div class="modern-form-group">
          <label for="tuningPrice">ğŸ’° Ãr ($)</label>
          <div class="modern-input-container price">
            <input type="text" id="tuningPrice" class="modern-input" placeholder="0" 
                   oninput="formatInputPrice(this)">
          </div>
        </div>

        <div class="modern-form-group">
          <label for="tuningPPPrice">ğŸ¯ Ãr (PP)</label>
          <div class="modern-input-container">
            <input type="text" id="tuningPPPrice" class="modern-input" placeholder="0" 
                   oninput="formatInputPrice(this)">
          </div>
        </div>
      </div>

      <div class="modern-form-actions">
        <button onclick="addTuning()" class="modern-btn-primary">â• Tuning hozzÃ¡adÃ¡sa</button>
        <button onclick="loadTunings()" class="modern-btn-secondary">ğŸ”„ FrissÃ­tÃ©s</button>
      </div>
    </div>
  </div>

  <div class="modern-table-container">
    <table class="modern-table">
      <thead>
        <tr>
          <th>ğŸ”§ Tuning nÃ©v</th>
          <th>ğŸ¯ Ãr (PP)</th> <!-- PP elÅ‘rÃ©bb -->
          <th>ğŸ’° Ãr ($)</th> <!-- $ hÃ¡trÃ©bb -->
          <th id="tuningActionHeader" style="display: none;">âš¡ MÅ±velet</th>
        </tr>
      </thead>
      <tbody id="tuningTableBody">
        <tr>
          <td colspan="4" class="table-loading">Tuningok betÃ¶ltÃ©se...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div id="editTuningModal" class="edit-modal" style="display: none;">
  <div class="edit-modal-content">
    <div class="edit-modal-header">
      <h3>âœï¸ Tuning Ã¡r mÃ³dosÃ­tÃ¡sa</h3>
      <span class="edit-close" onclick="closeEditTuningModal()">&times;</span>
    </div>
    
    <div class="edit-modal-body">
      <input type="hidden" id="editTuningId">
      
      <div class="car-info-card">
        <h4 id="editTuningName"></h4>
      </div>

      <div class="sale-form">
        <div class="form-group">
          <label for="editTuningPPPrice">ğŸ¯ Ãšj PP Ã¡r</label>
          <div class="price-input-container pp-price"> <!-- PP osztÃ¡ly hozzÃ¡adva -->
            <input type="text" id="editTuningPPPrice" placeholder="0" maxlength="15" oninput="formatInputPrice(this)">
          </div>
          <div class="price-hint">Ãrd be az Ãºj PP Ã¡rat</div>
        </div>

        <div class="form-group">
          <label for="editTuningPrice">ğŸ’° Ãšj $ Ã¡r</label>
          <div class="price-input-container price"> <!-- $ osztÃ¡ly megtartva -->
            <input type="text" id="editTuningPrice" placeholder="0" maxlength="15" oninput="formatInputPrice(this)">
          </div>
          <div class="price-hint">Ãrd be az Ãºj $ Ã¡rat</div>
        </div>
      </div>
    </div>

    <div class="edit-modal-footer">
      <button class="btn-cancel" onclick="closeEditTuningModal()">âŒ MÃ©gse</button>
      <button class="btn-confirm-sale" onclick="saveTuningPrice()">ğŸ’¾ Ãrak mentÃ©se</button>
    </div>
  </div>
</div>

<!-- STATISZTIKA OLDAL -->
<div id="statisztikaPage" class="page">
  <nav class="main-nav">
    <button class="nav-btn" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn active" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>

  <h2>ğŸ“Š StatisztikÃ¡k</h2>
  <div class="stats-container">
    <div class="stat-card">
      <h3>Ã–sszes autÃ³</h3>
      <div id="totalCars" class="stat-number">0</div>
    </div>
    <div class="stat-card">
      <h3>Eladott autÃ³k</h3>
      <div id="soldCars" class="stat-number">0</div>
    </div>
    <div class="stat-card">
      <h3>Ã–sszes profit</h3>
      <div id="totalProfit" class="stat-number">$</div>
    </div>
    <div class="stat-card">
      <h3>LegnÃ©pszerÅ±bb modell</h3>
      <div id="popularModel" class="stat-number">-</div>
    </div>
    <div class="stat-card">
      <h3>Ã–sszes tag</h3>
      <div id="totalTags" class="stat-number">0</div>
    </div>
  </div>
</div>

<!-- AutÃ³ Ã¡rak OLDAL -->
<div id="autokKepekPage" class="page">
  <nav class="main-nav">
    <button class="nav-btn" onclick="showPage('autok')">ğŸš— AutÃ³k</button>
    <button class="nav-btn" onclick="showPage('eladottAutok')">âœ… Eladott autÃ³k</button>
    <button class="nav-btn" onclick="showPage('tagok')">ğŸ‘¥ Tagok</button>
    <button class="nav-btn" onclick="showPage('statisztika')">ğŸ“Š Statisztika</button>
    <button class="nav-btn active" onclick="showPage('autokKepek')">ğŸ–¼ï¸ AutÃ³ Ã¡rak</button>
    <button class="nav-btn" onclick="showPage('tuningok')">ğŸ”§ Tuningok</button>
    <button class="nav-btn password-btn" onclick="openChangePasswordModal()" style="display: none;">ğŸ” JelszÃ³</button>
    <button class="nav-btn login-btn" onclick="showPage('login')">ğŸ” BejelentkezÃ©s</button>
  </nav>

  <div class="form-header-with-filters">
    <div class="form-title">
    </div>
  </div>

  <div id="galleryMessage" class="message"></div>

  <!-- AutÃ³ hozzÃ¡adÃ¡sa - CSAK BEJELENTKEZÃ‰S UTÃN -->
  <div id="galleryAdminFunctions" style="display: none;">
    <div class="modern-form-card">
      <div class="modern-form-header">
        <h3>â• Ãšj autÃ³ hozzÃ¡adÃ¡sa a listÃ¡hoz</h3>
      </div>
      
<div class="modern-form-row">
  <div class="modern-form-group">
    <label for="galleryModelSearch">ğŸš— Modell</label>
    <div class="model-search-container modern">
      <input type="text" id="galleryModelSearch" class="modern-input" placeholder="KeresÃ©s modellek kÃ¶zÃ¶tt..." 
            onfocus="showGalleryModelDropdown()" oninput="filterGalleryModels()">
      <div id="galleryModelDropdown" class="model-dropdown modern"></div>
    </div>
  </div>

  <div class="modern-form-group">
    <label for="galleryBasePrice">ğŸ’° Alap Ã¡r</label>
    <div class="modern-input-container price">
      <input type="text" id="galleryBasePrice" class="modern-input" placeholder="0" 
             oninput="formatInputPrice(this)">
    </div>
  </div>

  <div class="modern-form-group">
    <label for="galleryPrice">ğŸ’µ EladÃ¡si Ã¡r</label>
    <div class="modern-input-container price">
      <input type="text" id="galleryPrice" class="modern-input" placeholder="0" 
             oninput="formatInputPrice(this)">
    </div>
  </div>
</div>

      <!-- Modern kÃ©p feltÃ¶ltÃ©s - NEM KÃ–TELEZÅ -->
      <div class="modern-image-section">
        <h4>ğŸ“· AutÃ³ kÃ©pe <span class="field-hint">(opcionÃ¡lis)</span></h4>
        <div class="modern-image-upload-container">
          <input type="file" id="galleryCarImage" accept="image/*" style="display: none;" onchange="handleGalleryImageSelect(event)">
          <button type="button" onclick="document.getElementById('galleryCarImage').click()" class="modern-image-upload-btn">
            ğŸ“ KÃ©p kivÃ¡lasztÃ¡sa
          </button>
          <span id="galleryImageFileName" class="modern-image-file-name">Nincs kÃ©p kivÃ¡lasztva</span>
        </div>
        <div id="galleryImagePreview" class="modern-image-preview"></div>
      </div>

      <!-- Modern gombok -->
      <div class="modern-form-actions">
        <button onclick="addGalleryCar()" class="modern-btn-primary">â• AutÃ³ hozzÃ¡adÃ¡sa</button>
        <button onclick="loadCarGallery()" class="modern-btn-secondary">ğŸ”„ FrissÃ­tÃ©s</button>
      </div>
    </div>
  </div>

  <!-- AutÃ³ Ã¡rak tÃ¡blÃ¡zat -->
  <div class="modern-table-container">
    <table class="modern-table">
      <thead>
      <tr>
        <th>ğŸ“· KÃ©p</th>
        <th>ğŸš— Modell</th>
        <th>ğŸ’° Alap Ã¡r</th>
        <th>ğŸ’µ EladÃ¡si Ã¡r</th>
        <th id="galleryActionHeader" style="display: none;">âš¡ MÅ±velet</th>
      </tr>
    </thead>
    <tbody id="galleryTableBody">
      <tr>
        <td colspan="5" class="table-loading">AutÃ³ Ã¡rak betÃ¶ltÃ©se...</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- ÃšJ: GalÃ©ria Ã¡r mÃ³dosÃ­tÃ¡s Modal -->
<div id="editGalleryPriceModal" class="edit-modal gallery-edit-modal" style="display: none;">
  <div class="edit-modal-content">
    <div class="edit-modal-header">
      <h3>âœï¸ Ãr mÃ³dosÃ­tÃ¡sa</h3>
      <span class="edit-close" onclick="closeEditGalleryPriceModal()">&times;</span>
    </div>
    
    <div class="edit-modal-body">
      <input type="hidden" id="editGalleryCarId">
      
      <div class="car-info-card">
        <h4 id="editGalleryCarModel"></h4>
      </div>

      <div class="sale-form">
        <div class="form-group">
          <label for="editGalleryBasePrice">ğŸ’° Alap Ã¡r</label>
          <div class="price-input-container">
            <input type="text" id="editGalleryBasePrice" placeholder="0" maxlength="15" oninput="formatInputPrice(this)">
          </div>
          <div class="price-hint">Ãrd be az alap Ã¡rat</div>
        </div>

        <div class="form-group">
          <label for="editGalleryPrice">ğŸ’µ EladÃ¡si Ã¡r</label>
          <div class="price-input-container">
            <input type="text" id="editGalleryPrice" placeholder="0" maxlength="15" oninput="formatInputPrice(this)">
          </div>
          <div class="price-hint">Ãrd be az eladÃ¡si Ã¡rat</div>
        </div>
      </div>
    </div>

    <div class="edit-modal-footer">
      <button class="btn-cancel" onclick="closeEditGalleryPriceModal()">âŒ MÃ©gse</button>
      <button class="btn-confirm-sale" onclick="saveGalleryPrice()">ğŸ’¾ Ãrak mentÃ©se</button>
    </div>
  </div>
</div>


<!-- LOGIN OLDAL -->
<div id="loginPage" class="page">
  <div class="modern-login-card">
    <div class="modern-login-header">
      <h3>ğŸ” BejelentkezÃ©s</h3>
      <p>SzerkesztÃ©shez jelentkezzen be!</p>
    </div>

    <div class="modern-login-form" id="loginForm">
      <div class="modern-form-group">
        <label for="username">ğŸ‘¤ FelhasznÃ¡lÃ³nÃ©v</label>
        <input type="text" id="username" placeholder="Ãrja be a felhasznÃ¡lÃ³nevÃ©t" 
               class="modern-login-input" autocomplete="username">
      </div>

      <div class="modern-form-group">
        <label for="password">ğŸ”’ JelszÃ³</label>
        <input type="password" id="password" placeholder="Ãrja be a jelszavÃ¡t" 
               class="modern-login-input" autocomplete="current-password">
      </div>

      <button type="button" onclick="handleLogin()" class="modern-login-btn" id="loginButton">
        ğŸšª BejelentkezÃ©s
      </button>
    </div>

    <div class="modern-login-footer">
      <button onclick="showPage('autok')" class="modern-back-btn">
        â¬…ï¸ Vissza a bÃ¶ngÃ©szÃ©shez
      </button>
      <div id="loginMessage" class="message message-spaced"></div>
    </div>
  </div>
</div>

<!-- JelszÃ³vÃ¡ltoztatÃ¡s Modal -->
<div id="changePasswordModal" class="edit-modal" style="display: none;">
  <div class="edit-modal-content modal-content-narrow">
    <div class="edit-modal-header">
      <h3>ğŸ” JelszÃ³ megvÃ¡ltoztatÃ¡sa</h3>
      <span class="edit-close" onclick="closeChangePasswordModal()">&times;</span>
    </div>
    
    <div class="edit-modal-body">
      <div id="changePasswordMessage" class="message"></div>
      
      <div class="sale-form">
        <div class="form-group">
          <label for="currentPassword">ğŸ”’ Jelenlegi jelszÃ³</label>
          <input type="password" id="currentPassword" class="modern-input" 
                 placeholder="Add meg a jelenlegi jelszavad" autocomplete="current-password">
        </div>

        <div class="form-group">
          <label for="newPassword">ğŸ†• Ãšj jelszÃ³</label>
          <input type="password" id="newPassword" class="modern-input" 
                 placeholder="Add meg az Ãºj jelszÃ³t" autocomplete="new-password">
        </div>

        <div class="form-group">
          <label for="confirmPassword">âœ… Ãšj jelszÃ³ megerÅ‘sÃ­tÃ©se</label>
          <input type="password" id="confirmPassword" class="modern-input" 
                 placeholder="Add meg Ãºjra az Ãºj jelszÃ³t" autocomplete="new-password">
        </div>
      </div>
    </div>

    <div class="edit-modal-footer">
      <button class="btn-cancel" onclick="closeChangePasswordModal()">âŒ MÃ©gse</button>
      <button class="btn-confirm-sale" onclick="changePassword()">ğŸ’¾ JelszÃ³ megvÃ¡ltoztatÃ¡sa</button>
    </div>
  </div>
</div>

<!-- Modern EladÃ¡s Modal -->
<div id="editSaleModal" class="edit-modal" style="display: none;">
  <div class="edit-modal-content">
    <div class="edit-modal-header">
      <h3>ğŸš— AutÃ³ eladÃ¡sa</h3>
      <span class="edit-close" onclick="closeEditModal()">&times;</span>
    </div>
    
    <div class="edit-modal-body">
      <div class="car-info-card">
        <div class="car-image-preview">
          <img id="editCarImage" src="" alt="AutÃ³ kÃ©p">
        </div>
        <div class="car-details">
          <h4 id="editCarModel"></h4>
          <div class="price-info-grid">
            <div class="price-item">
              <span class="price-label">VÃ©teliÃ¡r:</span>
              <span id="editPurchasePrice" class="price-value"></span>
            </div>
            <div class="price-item">
              <span class="price-label">Jelenlegi Ã¡r:</span>
              <span id="editCurrentPrice" class="price-value"></span>
            </div>
          </div>
        </div>
      </div>

      <div class="sale-form">
        <!-- EladÃ¡s tÃ­pus vÃ¡lasztÃ¡s -->
        <div class="form-group">
          <label>ğŸ’° EladÃ¡s tÃ­pusa</label>
          <div class="sale-type-selector">
            <label class="sale-type-option">
              <input type="radio" name="saleType" value="kp" id="saleTypeKp" checked onchange="updateProfitCalculator()">
              <div class="sale-type-card cash">
                <div class="sale-type-title">ğŸ’µ KÃ©szpÃ©nz</div>
                <div class="sale-type-caption">Nincs adÃ³</div>
              </div>
            </label>
            <label class="sale-type-option">
              <input type="radio" name="saleType" value="normal" id="saleTypeNormal" onchange="updateProfitCalculator()">
              <div class="sale-type-card normal">
                <div class="sale-type-title">ğŸª NormÃ¡l</div>
                <div class="sale-type-caption">-7.5% adÃ³</div>
              </div>
            </label>
          </div>
        </div>

        <div class="form-group">
          <label for="editSalePrice">ğŸ’µ EladÃ¡si Ã¡r</label>
          <div class="price-input-container">
            <input type="text" id="editSalePrice" placeholder="0" maxlength="15" oninput="formatInputPrice(this); updateProfitCalculator();">
          </div>
          <div class="price-hint">Ãrd be az Ã¡rat, automatikusan formÃ¡zÃ³dik</div>
        </div>

        <div class="profit-calc" id="profitCalc">
          <div class="profit-header">ğŸ“Š Profit szÃ¡mÃ­tÃ¡s</div>
          <div class="profit-row">
            <span>VÃ©teliÃ¡r:</span>
            <span id="calcPurchase">0 $</span>
          </div>
          <div class="profit-row">
            <span>EladÃ¡si Ã¡r:</span>
            <span id="calcSale">0 $</span>
          </div>
          <div class="profit-row" id="taxLabel" style="display: none;">
            <span>AdÃ³ (7.5%):</span>
            <span id="calcTax" class="tax-value">0 $</span>
          </div>
          <div class="profit-row" id="netSaleLabel" style="display: none;">
            <span>NettÃ³ Ã¡r:</span>
            <span id="calcNetSale">0 $</span>
          </div>
          <div class="profit-row total">
            <span>EredmÃ©ny:</span>
            <span id="calcProfit">0 $</span>
          </div>
        </div>
      </div>
    </div>

    <div class="edit-modal-footer">
      <button class="btn-cancel" onclick="closeEditModal()">âŒ MÃ©gse</button>
      <button class="btn-confirm-sale" onclick="confirmSaleWithEdit()">âœ… AutÃ³ eladva</button>
    </div>
  </div>
 </div>
</main>
<!-- EGYETLEN EGYSÃ‰GES LÃBRÃ‰SZ -->
<footer id="contact" class="site-footer">
  <div class="footer-inner">
    <div class="footer-brand">
      <div class="footer-logo-mark" aria-hidden="true">
        <img src="https://i.imgur.com/wEi6GRD.png" alt="JM" class="footer-logo">
      </div>
      <div class="footer-brand-text">
        <div class="footer-title">JIMENEZ MOTORS INC.</div>
        <div class="footer-subtitle">AutÃ³kereskedÃ©s & Transport</div>
      </div>
      <p class="footer-description">
      </p>
    </div>

    <div class="footer-links">
      <h4>NavigÃ¡ciÃ³</h4>
      <ul class="footer-link-list">
        <li><a href="#autokPage" class="footer-link" onclick="showPage('autok'); return false;">ğŸš— AutÃ³k</a></li>
        <li class="footer-link-protected"><a href="#eladottAutokPage" class="footer-link" onclick="showPage('eladottAutok'); return false;">âœ… Eladott autÃ³k</a></li>
        <li><a href="#tagokPage" class="footer-link" onclick="showPage('tagok'); return false;">ğŸ‘¥ Tagok</a></li>
        <li class="footer-link-protected"><a href="#statisztikaPage" class="footer-link" onclick="showPage('statisztika'); return false;">ğŸ“Š Statisztika</a></li>
        <li class="footer-link-protected"><a href="#autokKepekPage" class="footer-link" onclick="showPage('autokKepek'); return false;">ğŸ–¼ï¸ AutÃ³ Ã¡rak</a></li>
        <li class="footer-link-protected"><a href="#tuningokPage" class="footer-link" onclick="showPage('tuningok'); return false;">ğŸ”§ Tuningok</a></li>
      </ul>
    </div>

    <div class="footer-contact">
      <h4>Kapcsolat</h4>
      <ul class="footer-contact-list">
        <li><a class="footer-link">â˜ï¸ 112 879 248</a></li>
        <li><a class="footer-link">â˜ï¸ 114 995 465</a></li>
        <li>ğŸ“ San Fierro</li>
      </ul>
    </div>

    <div class="footer-community">
      <h4>KÃ¶zÃ¶ssÃ©g</h4>
      <p class="footer-description">
        Csatlakozz a legfrissebb akciÃ³kÃ©rt.
      </p>
      <div class="footer-social">
        <a class="footer-social-btn" href="https://discord.gg/dTTbgP2Xv5" target="_blank" rel="noopener">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/discord.svg" alt="Discord" width="24" height="24">
        </a>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <span>Â© <span id="footerYear"></span> Jimenez Motors â€” Minden jog fenntartva</span>

  </div>
</footer>
<script src="js/config.js"></script>
<script src="js/utils.js"></script>
<script src="js/auth.js"></script>
<script src="js/main.js"></script>
<script src="js/cars.js"></script>
<script src="js/soldcars.js"></script> <!-- ÃšJ FÃJL -->
<script src="js/gallery.js"></script>
<script src="js/members.js"></script>
<script src="js/tuning.js"></script>
<script src="js/stats.js"></script>
<script src="js/modals.js"></script>
<script src="js/tagadmin.js"></script>
</body>

</html>




